<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Safety Clearance Headroom Calculator</title>

<style>

body{
    font-family: Arial;
    background:#f3f3f3;
    padding:12px;
}

.header{
    background:#c0392b;
    color:white;
    padding:15px;
    text-align:center;
    font-size:22px;
    border-radius:12px;
    margin-bottom:15px;
}

.card{
    background:white;
    padding:15px;
    margin-bottom:20px;
    border-radius:15px;
    box-shadow:0 3px 10px rgba(0,0,0,0.1);
}

h2{ color:#c0392b; }

input,select{
    width:100%;
    padding:10px;
    margin-top:8px;
    margin-bottom:15px;
    border-radius:10px;
    border:2px solid #ff6b6b;
    font-size:16px;
}

.layout-img{
    width:100%;
    border-radius:15px;
    margin-top:10px;
}

.result{
    font-size:20px;
    font-weight:bold;
    text-align:center;
    padding:15px;
    border-radius:12px;
}

.pass{ background:#2ecc71;color:white; }
.fail{ background:#e74c3c;color:white; }

</style>
</head>

<body>

<div class="header">
Safety Clearance Headroom Calculator
</div>

<!-- Layout -->
<div class="card">
<h2>üìê Elevator Layout</h2>

<select id="layoutSelect" onchange="changeLayout()">
<option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å --</option>
<option value="MR">MR</option>
<option value="MRL">MRL</option>
</select>

<img id="layoutImage" class="layout-img" style="display:none">

</div>


<!-- Buffer -->
<div class="card">
<h2>üß± Buffer and Offset Values</h2>

<label>VKN (m/s)</label>
<select id="vkn" onchange="autoSKS();calculate()">
<option value="">-- Select --</option>
<option value="0.63">0.63</option>
<option value="0.80">0.80</option>
<option value="1.00">1.00</option>
<option value="1.50">1.50</option>
<option value="1.60">1.60</option>
<option value="1.75">1.75</option>
<option value="2.00">2.00</option>
<option value="2.50">2.50</option>
<option value="3.00">3.00</option>
</select>

<label>SKS Jump (mm)</label>
<input type="number" id="sks" readonly>

<label>HGP (mm)</label>
<input type="number" id="hgp" oninput="calculate()">

<label>HPHG (mm)</label>
<input type="number" id="hphg" oninput="calculate()">

<label>X (mm)</label>
<input type="number" id="x" oninput="calculate()">

</div>


<!-- Measured -->
<div class="card">
<h2>üìè Measured Distances</h2>

<label>A (mm)</label>
<input type="number" id="a" oninput="calculate()">

<label>B (mm)</label>
<input type="number" id="b" oninput="calculate()">

<label>D (mm)</label>
<input type="number" id="d" oninput="calculate()">

</div>


<!-- Result -->
<div class="card">
<h2>üìä Result</h2>
<div id="resultBox" class="result">
Waiting for input
</div>
</div>


<script>

/* Layout Image */
function changeLayout(){

    let type = document.getElementById("layoutSelect").value;
    let img = document.getElementById("layoutImage");

    if(type==="MR"){
        img.src="image/layout-mr.jpeg";
        img.style.display="block";
    }
    else if(type==="MRL"){
        img.src="image/layout-mrl.jpeg";
        img.style.display="block";
    }
    else{
        img.style.display="none";
    }
}


/* ‚≠ê SKS TABLE (Correct Spec) */
const sksTable = {
"0.63":14,
"0.80":23,
"1.00":35,
"1.50":79,
"1.60":90,
"1.75":108,
"2.00":140,
"2.50":219,
"3.00":315
};


/* Auto SKS */
function autoSKS(){

    let vkn = document.getElementById("vkn").value;
    let sks = sksTable[vkn] || "";

    document.getElementById("sks").value = sks;
}


/* Calculation */
function calculate(){

    let A = parseFloat(document.getElementById("a").value)||0;
    let B = parseFloat(document.getElementById("b").value)||0;
    let D = parseFloat(document.getElementById("d").value)||0;
    let HGP = parseFloat(document.getElementById("hgp").value)||0;
    let HPHG = parseFloat(document.getElementById("hphg").value)||0;
    let X = parseFloat(document.getElementById("x").value)||0;
    let SKS = parseFloat(document.getElementById("sks").value)||0;

    let clearance = A + B + D - (HGP + HPHG + X + SKS);

    let box = document.getElementById("resultBox");

    if(clearance >= 1000){
        box.innerHTML = "PASS ‚úî<br>Clearance = "+clearance.toFixed(0)+" mm";
        box.className="result pass";
    }
    else{
        box.innerHTML = "FAIL ‚úñ<br>Clearance = "+clearance.toFixed(0)+" mm";
        box.className="result fail";
    }

}

</script>

</body>
</html>
