<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Safety Clearance Headroom Calculator</title>

<style>

body{
    font-family: Arial, sans-serif;
    background:#f4f4f4;
    margin:0;
    padding:20px;
}

.card{
    background:white;
    padding:20px;
    margin-bottom:20px;
    border-radius:20px;
    box-shadow:0 5px 15px rgba(0,0,0,0.1);
}

h2{
    color:#c0392b;
}

input,select{
    width:100%;
    padding:15px;
    margin-top:10px;
    margin-bottom:20px;
    border-radius:15px;
    border:2px solid #ff9f9f;
    font-size:18px;
}

input.fail{
    border:3px solid red;
    background:#ffe6e6;
}

.resultBox{
    padding:18px;
    border-radius:15px;
    margin-bottom:12px;
    color:white;
    font-size:18px;
    text-align:center;
}

.pass{ background:#2ecc71; }
.fail{ background:#e74c3c; }

button{
    width:100%;
    padding:15px;
    font-size:20px;
    border:none;
    border-radius:15px;
    background:#c0392b;
    color:white;
}

.layoutImg{
    width:100%;
    border-radius:15px;
    margin-top:15px;
    display:none;
}

</style>
</head>

<body>

<!-- Layout -->
<div class="card">

<h2>Elevator Layout</h2>

<select id="layoutSelect" onchange="showLayout()">
<option value="">Select Layout</option>
<option value="mr">MR</option>
<option value="mrl">MRL</option>
</select>

<img id="imgMR" class="layoutImg" src="image/layout-mr.jpeg">
<img id="imgMRL" class="layoutImg" src="image/layout-mrl.jpeg">

</div>


<!-- Buffer -->
<div class="card">

<h2>Buffer and Offset Values</h2>

<label>HGP ระยะรันบายโครงเวท (mm)</label>
<input id="hgp" type="number">

<label>HPHG ระยะยุบของ Buffer โครงเวท (mm)</label>
<input id="hphg" type="number">

<label>X ระยะลิฟท์จอดไม่เสมอชั้น (mm)</label>
<input id="x" type="number">

</div>


<!-- Measurement -->
<div class="card">

<h2>Measured Distances</h2>

<label>A ระยะจากพื้นหลังคาลิฟต์ถึงเพดานปล่อง (mm)</label>
<input id="a" type="number">

<label>B ระยะจากราวกันตกถึงเพดานปล่อง (mm)</label>
<input id="b" type="number">

<label>D ระยะจาก Guild shoe / Roller ถึงปลายรางลิฟต์ (mm)</label>
<input id="d" type="number">

</div>

<button onclick="calculate()">Calculate</button>


<!-- Result -->
<div class="card">

<h2>Result</h2>

<div id="resA" class="resultBox"></div>
<div id="resB" class="resultBox"></div>
<div id="resD" class="resultBox"></div>
<div id="resAll" class="resultBox"></div>

</div>


<script>

/* Layout Image */
function showLayout(){

let layout = document.getElementById("layoutSelect").value;

document.getElementById("imgMR").style.display="none";
document.getElementById("imgMRL").style.display="none";

if(layout==="mr") document.getElementById("imgMR").style.display="block";
if(layout==="mrl") document.getElementById("imgMRL").style.display="block";

}


/* Highlight input */
function highlight(id,pass){

let el=document.getElementById(id);

if(pass){
el.classList.remove("fail");
}else{
el.classList.add("fail");
}

}


/* Result box */
function resultBox(id,pass,html){

let box=document.getElementById(id);
box.className = pass ? "resultBox pass":"resultBox fail";
box.innerHTML = html;

}


/* Build PASS / FAIL text */
function buildText(label,value,req){

let diff = value - req;

if(value >= req){

return `
${label} : ผ่าน ✔ (${value} / ${req} mm)<br>
<span style="color:#00ff7f; font-weight:bold;">
เหลือ : +${diff} mm
</span>
`;

}else{

return `
${label} : ไม่ผ่าน ✖ (${value} / ${req} mm)<br>
<span style="color:#ff3b3b; font-weight:bold;">
ขาดไป : ${Math.abs(diff)} mm
</span>
`;

}

}


/* Calculate */
function calculate(){

let A = parseFloat(document.getElementById("a").value)||0;
let B = parseFloat(document.getElementById("b").value)||0;
let D = parseFloat(document.getElementById("d").value)||0;

let reqA = 1000;
let reqB = 300;
let reqD = 100;

let passA = A>=reqA;
let passB = B>=reqB;
let passD = D>=reqD;

let overall = passA && passB && passD;

/* Highlight */
highlight("a",passA);
highlight("b",passB);
highlight("d",passD);

/* Result Detail */
resultBox("resA",passA,buildText("A",A,reqA));
resultBox("resB",passB,buildText("B",B,reqB));
resultBox("resD",passD,buildText("D",D,reqD));

/* Overall */
resultBox("resAll",overall,
`Overall : ${overall ? "PASS ✔":"FAIL ✖"}`);

}

</script>

</body>
</html>
